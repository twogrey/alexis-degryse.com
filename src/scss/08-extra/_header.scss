:root {
	--index-b-c: var(--color-secondary-light);
	
	@include medium {
		--index-r: #{rem(10px)};
		--index-b-w: var(--sp);
		--index-b: var(--index-b-w) solid transparent;
	}
}

.header {
	@include medium {
		border: var(--index-b);
		border-bottom: 0;
	}

	.row {
		row-gap: 0;
	}
}

.logo {
	@include fluid-fs(var(--min), var(--max));
	--min: #{rem(20px, true)};
	--max: #{rem(28px, true)};
	display: flex;
	align-items: center;
	gap: var(--sp-2);

	@include medium {
		padding: calc(var(--sp-2) - var(--index-b-w)) var(--sp-2) var(--sp-2);
	}

	svg {
		width: auto;
		font-size: 400%;
		aspect-ratio: 603/873.4;

		@include medium {
			font-size: 270%;
		}
	}

	circle,
	path:first-of-type {
		fill: var(--color-primary);
	}

	path:last-of-type {
		fill: var(--text-color);
	}

	div {
		> span {
			display: block;

			&:first-of-type {
				font-family: $heading-font-family;
				font-weight: $bold;
				color: var(--color-primary);
			}

			&:last-of-type {
				font-size: 75%;
				color: var(--text-color);
			}
		}
	}
}

[aria-controls='menu'] {
	position: absolute;
	top: var(--gutter);
	right: var(--gutter);
	border: 0;
	appearance: none;
	background-color: transparent;
	cursor: pointer;
}

.menu {
	--r: 0.5rem;
	border-bottom: 1px solid var(--color-grey);

	&:has(> button:not([aria-expanded='true'])) {
		padding-bottom: var(--sp);
	}

	ul {
		@supports (height: calc-size(auto, size)) {
			overflow: hidden;
			animation: menu reverse 0.4s;
		}
	}

	> ul {
		--item-p: var(--sp-1-2);
		margin: 0;
		font-size: rem(20px);

		@include medium {
			display: flex;
		}

		> li { 
			&:not(:last-child) {
				border-bottom: 1px solid var(--color-grey);
			}
		}

		a,
		button {
			display: flex;
			align-items: center;
			width: 100%;
			padding: var(--item-p);
			font-family: $heading-font-family;
			gap: var(--sp);
		}

		svg {
			flex: 0 0 auto;
			font-size: 75%;
		}

		ul {
			font-size: 75%;

			a {
				&::before {
					content: '';
					flex: 0 0 auto;
					width: 0.5em;
					border-radius: 50%;
					background-color: var(--color-lightgrey);
					aspect-ratio: 1;
				}
			}
		}
	}
}

@keyframes menu {
	to {
		height: 0;
	}
}
