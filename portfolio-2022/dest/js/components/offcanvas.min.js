"use strict";var resizeTimer,offcanvas=null,offcanvasFocusables=[],previouslyFocusedElementOffcanvas=null,openOffcanvas=function(e){offcanvas=document.querySelector("#"+e),null!==(previouslyFocusedElementOffcanvas=document.querySelector(":focus"))&&previouslyFocusedElementOffcanvas.getAttribute("aria-expanded")&&previouslyFocusedElementOffcanvas.setAttribute("aria-expanded","true"),body.classList.add("offcanvas-is-open"),offcanvas.classList.add("is-active"),(offcanvasFocusables=Array.from(offcanvas.querySelectorAll(focusableSelector)))[0].focus(),offcanvas.addEventListener("click",closeOffcanvas),offcanvas.querySelectorAll(".js-offcanvas-close").forEach(function(e){e.addEventListener("click",closeOffcanvas)}),offcanvas.querySelector(".js-offcanvas-stop").addEventListener("click",stopPropagation)},closeOffcanvas=function a(){var e;null!==offcanvas&&(null!==previouslyFocusedElementOffcanvas&&(previouslyFocusedElementOffcanvas.focus(),previouslyFocusedElementOffcanvas.getAttribute("aria-expanded")&&previouslyFocusedElementOffcanvas.setAttribute("aria-expanded","false")),offcanvas.classList.add("is-hiding"),offcanvas.removeEventListener("click",a),offcanvas.querySelectorAll(".js-offcanvas-close").forEach(function(e){e.removeEventListener("click",a)}),offcanvas.querySelector(".js-offcanvas-stop").removeEventListener("click",stopPropagation),e=function e(){offcanvas.classList.remove("is-hiding"),offcanvas.classList.remove("is-active"),body.classList.remove("offcanvas-is-open"),offcanvas.removeEventListener("animationend",e),offcanvas=null,getScrollbarWidth()},offcanvas.addEventListener("animationend",e))},stopPropagation=function(e){e.stopPropagation()},focusInOffcanvas=function(e){e.preventDefault();var a=offcanvasFocusables.findIndex(function(e){return e===offcanvas.querySelector(":focus")});!0===e.shiftKey?a--:a++,a>=offcanvasFocusables.length&&(a=0),a<0&&(a=offcanvasFocusables.length-1),offcanvasFocusables[a].focus()};window.addEventListener("keydown",function(e){"Escape"!==e.key&&"Esc"!==e.key||closeOffcanvas(e),"Tab"===e.key&&null!==offcanvas&&focusInOffcanvas(e)}),document.querySelectorAll(".js-offcanvas").forEach(function(e){e.addEventListener("click",function(){openOffcanvas(e.getAttribute("data-offcanvas-id"))})}),window.addEventListener("resize",function(e){offcanvas&&offcanvas.classList.contains("offcanvas--mq")&&window.innerWidth>mqMedium&&(clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){closeOffcanvas(e)},250))});